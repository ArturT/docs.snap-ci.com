---
layout: topic
title:  "Unit tests"
---

Snap runs heuristics on your codebase to determine whether a project is using **RSpec** or **test-unit** framwork. It does this by examining the project structure. If a **'test'** directory is present at the PROJECT_ROOT it configures a stage to run these tests. Similarly, if a **'spec'** directory is present, the tests are configured to run using **RSpec**.

# test-unit

When **test-unit** is detected, the `test:units`  and `test:functionals` tasks are configured to run in a stage named <span class="stage-name">fastfeedback</span>. This stage is configured to be the very first stage of the build pipeline. If an **integration** directory is present, the `test:integration` task also gets added to the list. If the PROJECT is a ruby gem, it would only configure `test`.


# RSpec

If **RSpec** is detected then it would configure tasks based on the standard directories present spec folder. E.g. If it detects a models directory within spec then it will add `spec::models` to the list of rake task to run for the build. It detects presence of following directories **features, requests, models, controllers, views, helpers, mailers, lib, routing.**



