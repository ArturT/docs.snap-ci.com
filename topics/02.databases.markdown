---
layout: topic
title:  "Databases & datastores"
---

Snap supports multiple relational and NoSQL databases. All databases are exclusive to your build for the duration of your build. All data & configuration on all databases is reset on every build. This means that you can rely on someone else's build not interfering with yours. This also means that you cannot rely on any database setup you do in one build run to persist across to others.

##Relational database

Snap supports the following relational databases:

* SQLite
* MySQL
* PostgreSQL

### Connecting to the databases:

* **sqlite** - SQLite does not need any credentials to create or connect to the database
* **mysql** - To connect to the database, we provide the environment variables `SNAP_DB_MYSQL_USER`, `SNAP_DB_MYSQL_PASSWORD`, `SNAP_DB_MYSQL_HOST`, `SNAP_DB_MYSQL_PORT`, `SNAP_DB_MYSQL_URL` and `SNAP_DB_MYSQL_JDBC_URL`
* **postgresql** - To connect to the database, we provide the environment variables `SNAP_DB_PG_USER`, `SNAP_DB_PG_PASSWORD`, `SNAP_DB_PG_HOST`, `SNAP_DB_PG_PORT`, `SNAP_DB_PG_URL` and `SNAP_DB_PG_JDBC_URL`. We have common postgresql extensions such as `hstore` and `postgis` installed. They must be activated by calling [`CREATE EXTENSION`](http://www.postgresql.org/docs/9.2/static/sql-createextension.html) in your database migration scripts.

In addition to the connection options specified above, Snap provides some more conveniences:

* For Ruby projects that use a known database gem (pg, mysql, sqlite3), Snap will automatically supply an alternate `config/database.yml` file which is configured to connect to the database you selected to run your build against.

* For Java builds, we supply an environment variable called `DATABASE_URL` whose value is a jdbc URL to connect to the database you select to run against your database.

##NoSQL datastores

Snap supports the following NoSQL datastores:

* CouchDB
* MongoDB
* Redis

These services all run on localhost and default ports which are as follows:

* CouchDB: localhost:5984
* MongoDB: localhost:27017
* Redis:   localhost:6379

Common clients/libraries which use these, such as CouchRest, Mongoid or Resque should all "just work". For example, the default mongoid.yml set up by the gem would look something like this and would work out of the box.

```
test:
  sessions:
    default:
      database: myapp_test
      hosts:
        - localhost:27017
      options:
        consistency: :strong
        # In the test environment we lower the retries and retry interval to
        # low amounts for fast failures.
        max_retries: 1
        retry_interval: 0
```

If you have any trouble with any of these, [let us know]({{ site.link.contact_us }}).
